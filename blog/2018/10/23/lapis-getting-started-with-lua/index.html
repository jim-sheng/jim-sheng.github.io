<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="记录生活的每一滴"><title>创建一个Lua版本的Lapis项目 | 盛国存</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">创建一个Lua版本的Lapis项目</h1><a id="logo" href="/.">盛国存</a><p class="description">个人博客</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">创建一个Lua版本的Lapis项目</h1><div class="post-meta"><a href="/blog/2018/10/23/lapis-getting-started-with-lua/#comments" class="comment-count"></a><p><span class="date">Oct 23, 2018</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p>【原文】 <a href="http://leafo.net/lapis/reference/lua_getting_started.html" target="_blank" rel="noopener">http://leafo.net/lapis/reference/lua_getting_started.html</a></p>
<h2 id="生成一个新的项目"><a href="#生成一个新的项目" class="headerlink" title="生成一个新的项目"></a>生成一个新的项目</h2><p>你可以在当前目录下运行下面的命令创建一个新的 <code>Lua</code> 项目：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ lapis new --lua</span><br></pre></td></tr></table></figure>
<p>默认的 <code>nginx.conf</code> 文件会引入 <code>app.lua</code> ，这个基础文件也是通过 <code>lapis new</code> 命令生成的。</p>
<p><code>app.lua</code> 是整个项目的主入口，你可以引入其他的模块。事例如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- app.lua</span><br><span class="line"><span class="built_in">local</span> lapis = require(<span class="string">"lapis"</span>)</span><br><span class="line"><span class="built_in">local</span> app = lapis.Application()</span><br><span class="line"></span><br><span class="line">app:get(<span class="string">"/"</span>, <span class="keyword">function</span>()</span><br><span class="line">  <span class="built_in">return</span> <span class="string">"Welcome to Lapis "</span> .. require(<span class="string">"lapis.version"</span>)</span><br><span class="line">end)</span><br><span class="line"></span><br><span class="line"><span class="built_in">return</span> app</span><br></pre></td></tr></table></figure>
<p>这时候再启动服务器：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> lapis server</span></span><br></pre></td></tr></table></figure>
<p>打开浏览器就可以访问 <a href="http://localhost:8080" target="_blank" rel="noopener">http://localhost:8080</a> 这个地址了。</p>
<p>如果你想要改变访问的端口，可以创建一个 <code>config.lua</code> 文件。</p>
<p>在这个例子中，比如我想要 <code>development</code> 环境的访问端口改为 <code>9090</code> ：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-- config.lua</span><br><span class="line">local<span class="built_in"> config </span>= require(<span class="string">"lapis.config"</span>)</span><br><span class="line"></span><br><span class="line">config(<span class="string">"development"</span>, &#123;</span><br><span class="line"> <span class="built_in"> port </span>= 9090</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><strong>注意</strong> ： 后面我们会展开讲解如何配置一套完整的配置文件。</p>
<p>如果没有携带其他的参数 <code>lapis server</code> 正在运行的话，同时 <code>development</code> 环境正在跑着的话，系统会自动重新加载。（前提是 <code>lapis_environment.lua</code> 文件不存在）</p>
<p><code>Lapis</code> 仅使用了少量的内建字段用于配置文件（比如：<code>port</code>）,除此之外的字段你都可以使用。例如：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-- config.lua</span><br><span class="line">local<span class="built_in"> config </span>= require(<span class="string">"lapis.config"</span>)</span><br><span class="line"></span><br><span class="line">config(<span class="string">"development"</span>, &#123;</span><br><span class="line">  greeting = <span class="string">"Hello world"</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>你可以通过 <code>get</code> 方法获取当前的配置信息。它会返回一个 <code>Lua</code>  的 <code>table</code> 类型：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- app.lua</span><br><span class="line"><span class="built_in">local</span> lapis = require(<span class="string">"lapis"</span>)</span><br><span class="line"><span class="built_in">local</span> config = require(<span class="string">"lapis.config"</span>).get()</span><br><span class="line"></span><br><span class="line"><span class="built_in">local</span> app = lapis.Application()</span><br><span class="line"></span><br><span class="line">app:get(<span class="string">"/"</span>, <span class="keyword">function</span>(self)</span><br><span class="line">  <span class="built_in">return</span> config.greeting .. <span class="string">" from port "</span> .. config.port</span><br><span class="line">end)</span><br><span class="line"></span><br><span class="line"><span class="built_in">return</span> app</span><br></pre></td></tr></table></figure>
<h2 id="创建一个-View"><a href="#创建一个-View" class="headerlink" title="创建一个 View"></a>创建一个 <code>View</code></h2><p>现在我们可以创建一个基础页面或者复杂的需要渲染的页面。<code>Lapis</code> 支持 <a href="https://github.com/leafo/etlua" target="_blank" rel="noopener"><code>etlua</code></a> ，这是一个 <code>Lua</code> 模板语言，支持 <code>Lua</code> 混合 <code>HTML</code> 使用。</p>
<p>视图通常需要你准备相关的数据给它，然后它会生成 <code>HTML</code>，最终呈现在你面前。</p>
<p><code>Lapis</code> 的 <code>view</code> 的默认的路径是 <code>views/</code> ，现在我们可以创建一个最普通的 <code>view</code> 文件 <code>index.etlua</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- views/index.etlua --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello world<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Welcome to my page<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>我们发现跟常见的页面文件有些不一样，没有 <code>&lt;html&gt;</code> 、<code>&lt;head&gt;</code> 、<code>&lt;body&gt;</code> 标签。这里我们需要解释一下，<code>view</code> 不简单的负责页面的呈现，同时还负责页面的布局。</p>
<p>下面我们结合逻辑呈现我们的 <code>view</code> ：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- app.lua</span><br><span class="line"><span class="built_in">local</span> lapis = require(<span class="string">"lapis"</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">local</span> app = lapis.Application()</span><br><span class="line">app:<span class="built_in">enable</span>(<span class="string">"etlua"</span>)</span><br><span class="line"></span><br><span class="line">app:get(<span class="string">"/"</span>, <span class="keyword">function</span>(self)</span><br><span class="line">  <span class="built_in">return</span> &#123; render = <span class="string">"index"</span> &#125;</span><br><span class="line">end)</span><br><span class="line"></span><br><span class="line"><span class="built_in">return</span> app</span><br></pre></td></tr></table></figure>
<p><code>etlua</code> 默认是不开启的，如果你需要使用，需要通过方法将其打开。</p>
<p>我们可以在我们的 <code>action</code> 返回值中使用 <code>render</code> 参数去渲染指定的页面。在上面的例子中 <code>&quot;index&quot;</code> 会将自动加载 <code>views/index.etlua</code> 文件。</p>
<p>运行服务器后，在浏览器里输入指定的地址就可以查看刚刚渲染的页面了。</p>
<h3 id="etlua-用法"><a href="#etlua-用法" class="headerlink" title="etlua 用法"></a><code>etlua</code> 用法</h3><p>当有以下标签的时候 <code>etlua</code> 会将 <code>Lua</code> 的代码注入进模板：</p>
<ul>
<li><code>&lt;% lua_code %&gt;</code> 常规的 Lua 代码引入，类似 <code>PHP</code> 里面的 <code>&lt;?php xxxx ?&gt;</code></li>
<li><code>&lt;%= lua_expression %&gt;</code> 表达式输出结果，但是 <code>HTML</code> 会被转义</li>
<li><code>&lt;%- lua_expression %&gt;</code> 和上面的功能一样，不过不会转义 <code>HTML</code></li>
</ul>
<p><strong>注意</strong> ：后续仍会继续介绍 <code>etlua</code></p>
<p>下面我们会用一些事例来进一步了解上面的用法：</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- app.lua</span></span><br><span class="line"><span class="keyword">local</span> lapis = <span class="built_in">require</span>(<span class="string">"lapis"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> app = lapis.Application()</span><br><span class="line">app:enable(<span class="string">"etlua"</span>)</span><br><span class="line"></span><br><span class="line">app:get(<span class="string">"/"</span>, <span class="function"><span class="keyword">function</span><span class="params">(self)</span></span></span><br><span class="line">  self.my_favorite_things = &#123;</span><br><span class="line">    <span class="string">"Cats"</span>,</span><br><span class="line">    <span class="string">"Horses"</span>,</span><br><span class="line">    <span class="string">"Skateboards"</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123; render = <span class="string">"list"</span> &#125;</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> app</span><br></pre></td></tr></table></figure>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="comment">-- views/list.etlua --&gt;</span></span><br><span class="line">&lt;h1&gt;Here are my favorite things&lt;/h1&gt;</span><br><span class="line">&lt;ol&gt;</span><br><span class="line">  &lt;% <span class="keyword">for</span> i, thing <span class="keyword">in</span> <span class="built_in">pairs</span>(my_favorite_things) <span class="keyword">do</span> %&gt;</span><br><span class="line">    &lt;li&gt;&lt;%= thing %&gt;&lt;/li&gt;</span><br><span class="line">  &lt;% <span class="keyword">end</span> %&gt;</span><br><span class="line">&lt;/ol&gt;</span><br></pre></td></tr></table></figure>
<h3 id="创建一个布局（Layout）"><a href="#创建一个布局（Layout）" class="headerlink" title="创建一个布局（Layout）"></a>创建一个布局（<code>Layout</code>）</h3><p>在我们的页面当中 <code>Layout</code> 是一个独立的共享模板。你可以 <code>DIY</code> 你想要的效果。</p>
<p>下面我们创建一个 <code>Layout</code> 文件 <code>views/layout.etlua</code> :</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="comment">-- views/layout.etlua --&gt;</span></span><br><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">  &lt;title&gt;&lt;%= page_title <span class="keyword">or</span> <span class="string">"My Page"</span> %&gt;&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;h1&gt;Greetings&lt;/h1&gt;</span><br><span class="line">  &lt;% content_for(<span class="string">"inner"</span>) %&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><code>content_for</code> 是一个特殊的模板函数，你可以从视图里面向 <code>Layout</code> 发送数据。<code>Lapis</code> 会将渲染的结果塞进一个叫 <code>inner</code> 的 <code>content</code> 变量。 你会发现上面的例子中没有使用 <code>etlua</code> 的标签。因为 <code>content_for</code> 会将结果直接输出到缓冲区。</p>
<p>在视图（<code>view</code>）里面使用的变量和辅助函数在 <code>Layout</code> 里面也可以使用。</p>
<p>下面演示一下如何在 <code>Lapis</code> 应用中使用 <code>Layout</code>:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> app = lapis.Application()</span><br><span class="line">app:enable(<span class="string">"etlua"</span>)</span><br><span class="line">app.layout = <span class="built_in">require</span> <span class="string">"views.layout"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- the rest of the application...</span></span><br></pre></td></tr></table></figure>
<p>和 <code>view</code> 的使用上有一点语法上的区别，我们会通过名称引入进来，同时会赋值给一个模板对象。简单的讲 <code>etlua</code> 会将 <code>.etlua</code> 为后缀的文件转换成 <code>Lua</code> 可识别的文件。</p>
</div><div class="tags"><a href="/tags/lapis/">lapis</a><a href="/tags/Lua/">Lua</a></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/blog/2018/10/23/Lapis-request-and-action/" class="pre">Lapis-Request和Action</a><a href="/blog/2018/10/23/lapis-getting-started/" class="next">Lapis-快速开始</a></div><div id="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zNjk1MS8xMzQ4Nw=="></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#生成一个新的项目"><span class="toc-text">生成一个新的项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建一个-View"><span class="toc-text">创建一个 View</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#etlua-用法"><span class="toc-text">etlua 用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建一个布局（Layout）"><span class="toc-text">创建一个布局（Layout）</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/blog/2018/10/26/lapis-database-access-and-query/">lapis-数据库连接和查询</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/10/25/lapis-lua-configuration-syntax/">lapis-Lua版本的配置语法</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/10/25/lapis-creating-configuration/">lapis-配置和环境</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/10/23/Lapis-request-and-action/">Lapis-Request和Action</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/10/23/lapis-getting-started-with-lua/">创建一个Lua版本的Lapis项目</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/10/23/lapis-getting-started/">Lapis-快速开始</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/10/10/create-openresty-docker-image/">手把手教你创建OpenResty Docker镜像</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/09/19/quick-start-Vanilla-lua-web-framework/">Vanilla （lua web framework）中文文档 [2018.09.19]</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/08/01/nginx-book/">Nginx</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/05/18/automatic-investment-plan-by-golang/">基于Go语言的简易基金定投系统</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/Docker/" style="font-size: 15px;">Docker</a> <a href="/tags/lapis/" style="font-size: 15px;">lapis</a> <a href="/tags/Go语言/" style="font-size: 15px;">Go语言</a> <a href="/tags/基金/" style="font-size: 15px;">基金</a> <a href="/tags/定投/" style="font-size: 15px;">定投</a> <a href="/tags/OpenResty/" style="font-size: 15px;">OpenResty</a> <a href="/tags/Lua/" style="font-size: 15px;">Lua</a> <a href="/tags/Lapis/" style="font-size: 15px;">Lapis</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/基础概念/" style="font-size: 15px;">基础概念</a> <a href="/tags/GDB/" style="font-size: 15px;">GDB</a> <a href="/tags/入门/" style="font-size: 15px;">入门</a> <a href="/tags/Vanilla中文文档/" style="font-size: 15px;">Vanilla中文文档</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li></ul></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">ShengGuocun.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e3ed45ce04d57be9fec7dd674aec65e0";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script><script>(function(d, s) {
  var j, e = d.getElementsByTagName('body')[0];
  if (typeof LivereTower === 'function') { return; }
  j = d.createElement(s);
  j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
  j.async = true;
  e.appendChild(j);
})(document, 'script');
</script></body></html>